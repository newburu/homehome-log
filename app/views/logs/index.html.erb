<div class="max-w-4xl mx-auto px-4 py-8">
  <div class="flex flex-col md:flex-row justify-between items-center mb-6 gap-4">
    <h1 class="text-3xl font-bold">
      <% if params[:date] %>
        <%= l(params[:date].to_date, format: :long) %> のログ
      <% else %>
        ログ一覧
      <% end %>
    </h1>
    <div class="flex flex-col sm:flex-row gap-2 w-full md:w-auto">
      <%= link_to "カレンダー", calendar_logs_path, class: "bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded text-center" %>
      <%= link_to "誉められることを見つける", praises_path, class: "bg-indigo-600 hover:bg-indigo-800 text-white font-bold py-2 px-4 rounded text-center" %>
    </div>
  </div>

  <% if @logs.any? %>
    <div class="bg-white shadow overflow-hidden sm:rounded-md">
      <ul class="divide-y divide-gray-200">
        <% @logs.each do |log| %>
          <li>
            <div class="px-4 py-4 sm:px-6 hover:bg-gray-50 flex items-center justify-between">
              <div class="flex-1 min-w-0">
                <p class="text-sm font-medium text-indigo-600 truncate"><%= log.content %></p>
                <p class="flex items-center text-sm text-gray-500">
                  <span class="truncate">
                    <%= log.created_at.strftime("%Y年%m月%d日") %>
                    <% 
                      wday_color = if log.created_at.sunday?
                                     "text-red-500"
                                   elsif log.created_at.saturday?
                                     "text-blue-500"
                                   else
                                     "text-gray-500"
                                   end
                    %>
                    <span class="<%= wday_color %>">(<%= I18n.l(log.created_at, format: "%a") %>)</span>
                  </span>
                </p>
              </div>
              <div class="flex items-center space-x-4">
                <%= link_to edit_log_path(log), class: "text-gray-400 hover:text-indigo-600 transition-colors p-1" do %>
                  <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z" />
                  </svg>
                <% end %>
                <%= button_to log_path(log), method: :delete, data: { turbo_confirm: '本当に削除しますか？' }, class: "text-gray-400 hover:text-red-600 transition-colors bg-transparent border-0 cursor-pointer p-1" do %>
                  <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16" />
                  </svg>
                <% end %>
              </div>
            </div>
          </li>
        <% end %>
      </ul>
    </div>
    <div class="mt-4">
      <%= paginate @logs %>
    </div>
  <% else %>
    <p class="text-center text-gray-500 mt-8">ログはまだありません。</p>
  <% end %>
</div>
